<html lang="en">
        <head>
                <title>ShootingDemo</title>
                <meta charset="utf-8">
                <style media="screen">
                #holder {

                    left: 50%;
                    position: absolute;
                    top: 50%;
                    height: 400px;
                    margin: -200px 0 0 -200px;
                    width: 400px;
                    background: black;
                }
                </style>
        </head>
        <body>
                <script src="raphael.js"></script>
                <script src="shooting.js"></script>
                <script>

                        Raphael(function() {
                            var r=Raphael("holder");
                            window.setInterval(function(){
                                    var cir=r.circle(Math.random()*400,Math.random()*400,5);
                                    cir.attr({stroke: Raphael.rgb(0,0,0)});
                                    var dx=Math.random()-0.5, dy=Math.random()-0.5;
                                    var rmd=Math.sqrt(dx*dx+dy*dy)/(Math.random()*3+1);
                                    cir.deltax=dx/rmd;
                                    cir.deltay=dy/rmd;
                                    cir.destroy=cir.remove;
                                    cir.entity=false;
                                    cir.ticks=0;
                                    cir.mr=Math.random()*64+190;
                                    cir.mg=Math.random()*64+190;
                                    cir.mb=Math.random()*64+190;
                                    cir.tick=function(){
                                            if(cir.ticks<30) {
                                                    cir.ticks++;
                                                    cir.attr({stroke:Raphael.rgb(cir.mr*cir.ticks/30,cir.mg*cir.ticks/30,cir.mb*cir.ticks/30)});
                                            } else cir.entity=true;
                                    };
                                    bullets.addbullet(cir);
                            },10);

                            window.setInterval(function(){
                                    bullets.nextmove();
                            },10);
                        });
                        
                </script>
                <div id="holder"></div>
        </body>
</html>
